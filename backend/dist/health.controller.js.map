{"version":3,"file":"health.controller.js","sourceRoot":"/","sources":["health.controller.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,0EAAgE;AAChE,2CAAyD;AACzD,6CAA0C;AAC1C,+CAI0B;AAInB,IAAM,gBAAgB,wBAAtB,MAAM,gBAAgB;IAEI;IADZ,MAAM,GAAG,IAAI,eAAM,CAAC,kBAAgB,CAAC,IAAI,CAAC,CAAC;IAC5D,YAA6B,MAA0B;QAA1B,WAAM,GAAN,MAAM,CAAoB;IAAG,CAAC;IAIrD,AAAN,KAAK,CAAC,KAAK;QACP,IAAI,CAAC;YACD,OAAO,MAAM,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;gBAC3B,GAAG,EAAE,CACD,OAAO,CAAC,OAAO,CAAC;oBACZ,WAAW,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;iBAChC,CAAC;aACT,CAAC,CAAC;QACP,CAAC;QAAC,OAAO,KAAc,EAAE,CAAC;YACtB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAA,iCAAY,EAAC,qBAAqB,EAAE,KAAK,CAAC,CAAC,CAAC;YAC9D,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;CACJ,CAAA;AAnBY,4CAAgB;AAMnB;IAFL,IAAA,YAAG,GAAE;IACL,IAAA,sBAAW,GAAE;;;;6CAab;2BAlBQ,gBAAgB;IAF5B,IAAA,iBAAO,EAAC,QAAQ,CAAC;IACjB,IAAA,mBAAU,EAAC,QAAQ,CAAC;qCAGoB,6BAAkB;GAF9C,gBAAgB,CAmB5B","sourcesContent":["import { errorMessage } from '@common/utils/error-message.util';\nimport { Controller, Get, Logger } from '@nestjs/common';\nimport { ApiTags } from '@nestjs/swagger';\nimport {\n    HealthCheckService,\n    HealthCheck,\n    HealthCheckResult,\n} from '@nestjs/terminus';\n\n@ApiTags('Health')\n@Controller('health')\nexport class HealthController {\n    private readonly logger = new Logger(HealthController.name);\n    constructor(private readonly health: HealthCheckService) {}\n\n    @Get()\n    @HealthCheck()\n    async check(): Promise<HealthCheckResult> {\n        try {\n            return await this.health.check([\n                () =>\n                    Promise.resolve({\n                        application: { status: 'up' },\n                    }),\n            ]);\n        } catch (error: unknown) {\n            this.logger.error(errorMessage('Health check failed', error));\n            throw error;\n        }\n    }\n}\n"]}